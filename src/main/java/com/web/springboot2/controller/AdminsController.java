//package com.web.springboot2.controller;
//
//import com.web.springboot2.model.User;
//import com.web.springboot2.service.RoleService;
//import com.web.springboot2.service.UserService;
//import org.springframework.security.core.context.SecurityContextHolder;
//import org.springframework.security.core.userdetails.UserDetails;
//import org.springframework.stereotype.Controller;
//import org.springframework.ui.Model;
//import org.springframework.web.bind.annotation.*;
//
//@Controller
//public class AdminsController {
//
//    private final UserService userService;
//    private final RoleService roleService;
//
//    public AdminsController(UserService userService, RoleService roleService) {
//        this.userService = userService;
//        this.roleService = roleService;
//    }
//
//    @GetMapping("/admin")
//    public String getAdminPage(Model model) {
//        UserDetails userDetails = (UserDetails) SecurityContextHolder.getContext().getAuthentication().getPrincipal();
//        model.addAttribute("authorizedUser", userDetails);
//        model.addAttribute("newUser", new User());
//        model.addAttribute("users", userService.getAllUsers());
//        model.addAttribute("allRoles", roleService.getAllRoles());
//        return "admin_page";
//    }
//
//    @PostMapping("/create")
//    public String createUser(@ModelAttribute User user) {
//        userService.createNewUser(user);
//        return "redirect:/admin";
//    }
//
//    @PatchMapping("/update")
//    public String updateUser(@ModelAttribute User user) {
//        userService.updateUser(user);
//        return "redirect:/admin";
//    }
//
//    @DeleteMapping("/delete/{id}")
//    public String deleteUser(@PathVariable("id") long id) {
//        userService.deleteUser(id);
//        return "redirect:/admin";
//    }
//}
